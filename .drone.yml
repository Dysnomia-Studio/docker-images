kind: pipeline
name: docker-custom-images

steps:
- name: apache-reverse-proxy
  image: plugins/docker
  volumes:
  - name: docker_sock
    path: /var/run/docker.sock
  settings:
    repo: dysnomia/apache-reverse-proxy
    dockerfile: apache-reverse-proxy/Dockerfile
    dry_run: true
    purge: false

- name: apache-server
  image: plugins/docker
  volumes:
  - name: docker_sock
    path: /var/run/docker.sock
  settings:
    repo: dysnomia/apache-server
    dockerfile: apache-server/Dockerfile
    dry_run: true
    purge: false

- name: netcore-sdk-3-1
  image: plugins/docker
  volumes:
  - name: docker_sock
    path: /var/run/docker.sock
  settings:
    repo: dysnomia/netcore-sdk-3-1
    dockerfile: netcore-sdk-3-1/Dockerfile
    dry_run: true
    purge: false

- name: netcore-runtime-3-1
  image: plugins/docker
  volumes:
  - name: docker_sock
    path: /var/run/docker.sock
  settings:
    repo: dysnomia/netcore-runtime-3-1
    dockerfile: netcore-runtime-3-1/Dockerfile
    dry_run: true
    purge: false

- name: netcore-sdk-5-0
  image: plugins/docker
  volumes:
  - name: docker_sock
    path: /var/run/docker.sock
  settings:
    repo: dysnomia/netcore-sdk-5-0
    dockerfile: netcore-sdk-5-0/Dockerfile
    dry_run: true
    purge: false

- name: netcore-runtime-5-0
  image: plugins/docker
  volumes:
  - name: docker_sock
    path: /var/run/docker.sock
  settings:
    repo: dysnomia/netcore-runtime-5-0
    dockerfile: netcore-runtime-5-0/Dockerfile
    dry_run: true
    purge: false

- name: vpn-server
  image: plugins/docker
  volumes:
  - name: docker_sock
    path: /var/run/docker.sock
  settings:
    repo: dysnomia/vpn-server
    dockerfile: vpn-server/Dockerfile
    dry_run: true
    purge: false

volumes:
  - name: docker_sock
    host:
      path: /var/run/docker.sock